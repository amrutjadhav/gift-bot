// input: kred response + optional usermodel
// output: user model